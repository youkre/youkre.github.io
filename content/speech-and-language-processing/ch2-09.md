---
title: "2.9 小结"
summary: ""
date: 2025-10-14T22:28:07+08:00
---

本章介绍了一项语言处理中的基础工具——**正则表达式**（regular expression），并展示了如何执行基本的**文本归一化**（text normalization）任务，包括**词元切分与归一化**（word segmentation and normalization）、**句子切分**（sentence segmentation）以及**词干提取**（stemming）。我们还介绍了用于比较字符串的重要算法——**最小编辑距离**（minimum edit distance）。以下是本章核心要点的总结：

- **正则表达式**是一种强大的模式匹配工具。
- 正则表达式的基本操作包括符号的**连接**（concatenation）、**析取**（disjunction，如 `[]`、`|`）、**计数符**（counters，如 `*`、`+`、`{n,m}`）、**锚点**（anchors，如 `^`、`$`）以及**优先级操作符**（如 `(`、`)`）。
- **词元切分与归一化**通常通过一系列简单的正则表达式替换规则或有限状态自动机的级联来实现。
- **波特算法**（Porter algorithm）是一种简单高效的**词干提取**方法，通过剥离词缀实现。虽然其准确率不高，但在某些任务中仍具实用价值。
- 两个字符串之间的**最小编辑距离**是指将一个字符串编辑成另一个字符串所需的最少操作数。该距离可通过**动态规划**算法计算，此过程还能生成两个字符串之间的**对齐**结果。

## 参考文献与历史注记

Kleene（1951；1956）首次基于McCulloch-Pitts神经元模型定义了正则表达式和有限自动机。Ken Thompson 是最早将正则表达式编译器集成到文本编辑器中用于搜索的人之一（Thompson, 1968）。他开发的编辑器 `ed` 包含一个命令“g/正则表达式/p”，即“全局正则表达式打印”（Global Regular Expression Print），后来演变为 Unix 系统中的 `grep` 工具。

文本归一化算法自该领域诞生之初便已得到应用。最早被广泛使用的词干提取器之一是 Lovins（1968）。词干提取也较早地被应用于数字人文领域，Packard（1973）曾为古希腊语构建了一个剥离词缀的形态分析器。如今，已有大量用于词元化和归一化的开源工具可用，例如斯坦福词元化器（https://nlp.stanford.edu/software/tokenizer.shtml），或针对推特（O’Connor et al., 2010）及情感分析（http://sentiment.christopherpotts.net/tokenizing.html）的专用词元化器。Palmer（2012）对文本预处理技术进行了综述。NLTK 是一个不可或缺的工具，它不仅提供了实用的 Python 库（https://www.nltk.org），还通过教科书（Bird et al., 2009）详细描述了包括文本归一化和语料库接口在内的多种算法。

关于赫尔丹定律（Herdan’s law）和希普斯定律（Heaps’ Law），可参阅 Herdan（1960, p. 28）、Heaps（1978）、Egghe（2007）和 Baayen（2001）；关于编辑距离的更多内容，可参考 Gusﬁeld（1997）。本书中“intention”到“execution”的编辑距离示例改编自 Kruskal（1983）。目前有多种公开可用的编辑距离计算包，包括 Unix 的 `diff` 命令和 NIST 的 `sclite` 程序（NIST, 2005）。

在自传中，Bellman（1984）解释了他最初如何提出“动态规划”这一术语：

> “……20世纪50年代对数学研究而言并非好时光。[当时的]国防部长……对‘研究’这个词有着病态的恐惧和憎恨……因此我决定使用‘规划’（programming）一词。我想传达的是，这是动态的、多阶段的……我想，不如……用一个含义绝对精确的词，比如‘动态’（dynamic）……‘动态’这个词不可能被用作贬义。试着想一些组合，看能否给它赋予贬义，这是不可能的。因此，我认为‘动态规划’是个好名字。它是个连国会议员都无法反对的东西。”

## 练习题

2.1 为以下语言编写正则表达式。

    1. 所有字母字符串的集合；
    2. 所有以 `b` 结尾的小写字母字符串的集合；
    3. 由字母表 `a, b` 构成的所有字符串，要求每个 `a` 都必须紧邻其前后的 `b`；

2.2 为以下语言编写正则表达式。此处的“词”（word）指被空白符、标点符号、换行符等分隔的字母字符串。

    1. 所有包含两个连续重复词的字符串（例如，“Humbert Humbert” 和 “the the”，但不包括 “the bug” 或 “the big bug”）；
    2. 所有以数字开头、以单词结尾的字符串；
    3. 所有同时包含单词 “grotto” 和 “raven” 的字符串（但不包括如 “grottos” 这类仅包含 “grotto” 作为子串的词）；
    4. 编写一个模式，将英文句子的第一个词存入寄存器。需处理标点符号。

2.3 实现一个类似 ELIZA 的程序，使用第13页描述的替换规则。你可以选择不同于罗杰式心理学家的领域，但需注意，所选领域应允许程序进行大量简单的重复对话。

2.4 计算 “leda” 到 “deal” 的编辑距离（插入、删除、替换的代价均为1）。请展示你的计算过程（使用编辑距离矩阵）。

2.5 判断 “drive” 与 “brief” 和 “divers” 哪个更接近，并计算到两者的编辑距离。可使用任意版本的距离定义。

2.6 实现一个最小编辑距离算法，并用你手算的结果来验证代码的正确性。

2.7 扩展最小编辑距离算法以输出对齐结果；你需要在计算过程中存储回溯指针，并增加一个阶段来执行回溯。


<nav class="pagination justify-content-between">
<a href="../ch2-08">2.8 最小编辑距离</a>
<a href="../">目录</a>
<a href="../ch3">第3章 N元语言模型</a>
</nav>

